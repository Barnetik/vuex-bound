{"version":3,"file":"vuex-bound.cjs.js","sources":["../src/index.js"],"sourcesContent":["export const normalizeMap = (map) => {\n  return Array.isArray(map)\n    ? map.map(key => ({ key, val: key }))\n    : Object.keys(map).map(key => ({ key, val: map[key] }))\n};\n\nexport const normalizeNamespace = (func) => {\n  return (namespace, map) => {\n    if (typeof namespace !== 'string') {\n      map = namespace;\n      namespace = '';\n    }\n\n    return func(namespace, map);\n  };\n};\n\nexport const mapModelsToState = normalizeNamespace((namespace, models) => {\n  const res = {};\n\n  normalizeMap(models).forEach(({ key, val }) => {\n    res[key] = {\n      get() {\n        if (!namespace) {  // global\n          if (typeof val === 'function') {  // func\n            val(this.$store.state);\n          } else {  // arr\n            return this.$store.state[key];\n          }\n        } else {  // modules\n          if (typeof val === 'function') {  // func\n            val(this.$store.state);\n          } else {  // arr\n            return namespace.split('/')\n              .reduce((prev, cur) => prev[cur], this.$store.state)[key];\n          }\n        }\n      },\n      set(value) {\n        if (!namespace) {  // global\n          this.$store.commit('update', { label: key, value });\n        } else {  // modules\n          this.$store.commit(`${namespace.split('/').join('/')}/update`, { label: key, value });\n        }\n      },\n    };\n  });\n\n  return res;\n});\n\nexport const updateModel = () => ({\n  update(state, { label, value }) {\n    // TODO: get nested state\n    state[label] = value;\n  },\n});\n"],"names":["const"],"mappings":";;;;AAAY,IAAC,YAAY,aAAI,GAAG,EAAE;EAChC,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;MACrB,GAAG,CAAC,GAAG,WAAC,KAAI,UAAI,OAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAC,CAAC;MACnC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,WAAC,KAAI,UAAI,OAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE,IAAC,CAAC;CAC1D,CAAC;;AAEF,AAAY,IAAC,kBAAkB,aAAI,IAAI,EAAE;EACvC,iBAAQ,SAAS,EAAE,GAAG,EAAE;IACtB,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;MACjC,GAAG,GAAG,SAAS,CAAC;MAChB,SAAS,GAAG,EAAE,CAAC;KAChB;;IAED,OAAO,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;GAC7B,CAAC;CACH,CAAC;;AAEF,AAAY,IAAC,gBAAgB,GAAG,kBAAkB,WAAE,SAAS,EAAE,MAAM,EAAE;EACrEA,IAAM,GAAG,GAAG,EAAE,CAAC;;EAEf,YAAY,CAAC,MAAM,CAAC,CAAC,OAAO,WAAE,GAAY,EAAE;sBAAP;;;IACnC,GAAG,CAAC,GAAG,CAAC,GAAG;MACT,iBAAG,GAAG;QACJ,IAAI,CAAC,SAAS,EAAE;UACd,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE;YAC7B,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;WACxB,MAAM;YACL,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;WAC/B;SACF,MAAM;UACL,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE;YAC7B,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;WACxB,MAAM;YACL,OAAO,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC;eACxB,MAAM,WAAE,IAAI,EAAE,GAAG,EAAE,SAAG,IAAI,CAAC,GAAG,IAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;WAC7D;SACF;OACF;MACD,iBAAG,CAAC,KAAK,EAAE;QACT,IAAI,CAAC,SAAS,EAAE;UACd,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,GAAG,SAAE,KAAK,EAAE,CAAC,CAAC;SACrD,MAAM;UACL,IAAI,CAAC,MAAM,CAAC,MAAM,GAAI,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,iBAAY,EAAE,KAAK,EAAE,GAAG,SAAE,KAAK,EAAE,CAAC,CAAC;SACvF;OACF;KACF,CAAC;GACH,CAAC,CAAC;;EAEH,OAAO,GAAG,CAAC;CACZ,CAAC,CAAC;;AAEH,AAAY,IAAC,WAAW,eAAM,UAAI;EAChC,uBAAM,CAAC,KAAK,EAAE,GAAgB,EAAE;0BAAT;;;;IAErB,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;GACtB;CACF,IAAC;;;;;;;"}