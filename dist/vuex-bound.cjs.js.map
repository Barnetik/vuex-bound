{"version":3,"file":"vuex-bound.cjs.js","sources":["../src/index.js"],"sourcesContent":["export const normalize = (func) => {\n  return (namespace, map) => {\n    if (typeof namespace !== 'string') {\n      map = namespace;\n      namespace = '';\n    }\n\n    return func(namespace, map);\n  };\n};\n\nexport const mapModelsToState = normalize((moduleName, keys) => {\n  const obj = {};\n\n  // global\n  if (moduleName === '') {\n    keys.forEach((key) => {\n      obj[key] = {\n        get() {\n          return this.$store.state[key];\n        },\n        set(value) {\n          this.$store.commit('update', { label: key, value });\n        },\n      };\n    });\n\n    return obj;\n  }\n\n  // namespaced\n  const arr = moduleName.split('/');\n\n  keys.forEach((key) => {\n    obj[key] = {\n      get() {\n        const deep = arr.reduce((prev, cur) => {\n          if (prev && prev[cur]) {\n            return prev[cur];\n          }\n\n          return null;\n        }, this.$store.state);\n\n        return deep ? deep[key] : null;\n      },\n      set(value) {\n        arr.forEach((item, index) => {\n          if (arr.length === index + 1) {\n            const typeName = `${arr.join('/')}/update`;\n            this.$store.commit(typeName, { label: key, value });\n          }\n        });\n      },\n    };\n  });\n\n  return obj;\n});\n\nexport const updateModel = () => ({\n  update(state, { label, value }) {\n    state[label] = value;\n  },\n});\n"],"names":["const","this"],"mappings":";;;;AAAY,IAAC,SAAS,aAAI,IAAI,EAAE;EAC9B,iBAAQ,SAAS,EAAE,GAAG,EAAE;IACtB,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;MACjC,GAAG,GAAG,SAAS,CAAC;MAChB,SAAS,GAAG,EAAE,CAAC;KAChB;;IAED,OAAO,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;GAC7B,CAAC;CACH,CAAC;;AAEF,AAAY,IAAC,gBAAgB,GAAG,SAAS,WAAE,UAAU,EAAE,IAAI,EAAE;EAC3DA,IAAM,GAAG,GAAG,EAAE,CAAC;;;EAGf,IAAI,UAAU,KAAK,EAAE,EAAE;IACrB,IAAI,CAAC,OAAO,WAAE,GAAG,EAAE;MACjB,GAAG,CAAC,GAAG,CAAC,GAAG;QACT,iBAAG,GAAG;UACJ,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;SAC/B;QACD,iBAAG,CAAC,KAAK,EAAE;UACT,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,GAAG,SAAE,KAAK,EAAE,CAAC,CAAC;SACrD;OACF,CAAC;KACH,CAAC,CAAC;;IAEH,OAAO,GAAG,CAAC;GACZ;;;EAGDA,IAAM,GAAG,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;EAElC,IAAI,CAAC,OAAO,WAAE,GAAG,EAAE;IACjB,GAAG,CAAC,GAAG,CAAC,GAAG;MACT,iBAAG,GAAG;QACJA,IAAM,IAAI,GAAG,GAAG,CAAC,MAAM,WAAE,IAAI,EAAE,GAAG,EAAE;UAClC,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE;YACrB,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;WAClB;;UAED,OAAO,IAAI,CAAC;SACb,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;;QAEtB,OAAO,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;OAChC;MACD,iBAAG,CAAC,KAAK,EAAE;;;QACT,GAAG,CAAC,OAAO,WAAE,IAAI,EAAE,KAAK,EAAE;UACxB,IAAI,GAAG,CAAC,MAAM,KAAK,KAAK,GAAG,CAAC,EAAE;YAC5BA,IAAM,QAAQ,GAAG,CAAG,GAAG,CAAC,IAAI,CAAC,GAAG,cAAU,CAAC;YAC3CC,MAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,GAAG,SAAE,KAAK,EAAE,CAAC,CAAC;WACrD;SACF,CAAC,CAAC;OACJ;KACF,CAAC;GACH,CAAC,CAAC;;EAEH,OAAO,GAAG,CAAC;CACZ,CAAC,CAAC;;AAEH,AAAY,IAAC,WAAW,eAAM,UAAI;EAChC,uBAAM,CAAC,KAAK,EAAE,GAAgB,EAAE;0BAAT;;;IACrB,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;GACtB;CACF,IAAC;;;;;;"}