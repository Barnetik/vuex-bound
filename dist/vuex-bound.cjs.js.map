{"version":3,"file":"vuex-bound.cjs.js","sources":["../src/index.js"],"sourcesContent":["export const normalizeMap = map => (\n  Array.isArray(map)\n    ? map.map(key => ({ key, val: key }))\n    : Object.keys(map).map(key => ({ key, val: map[key] }))\n);\n\nexport const normalizeNamespace = func =>\n  (namespace, map) => {\n    if (typeof namespace !== 'string') {\n      map = namespace;\n      namespace = '';\n    }\n\n    return func(namespace, map);\n  };\n\nexport const mapModel = normalizeNamespace((namespace, models) => {\n  const res = {};\n\n  normalizeMap(models).forEach(({ key, val }) => {\n    res[key] = {\n      get() {\n        if (typeof val === 'function') val(this.$store.state);\n\n        if (!namespace) return this.$store.state[key];\n\n        return namespace.split('/')\n          .reduce((prev, cur) => prev[cur], this.$store.state)[key];\n      },\n      set(value) {\n        const type = !namespace ? 'updateModel' : `${namespace.split('/').join('/')}/updateModel`;\n\n        this.$store.commit(type, { label: key, value });\n      },\n    };\n  });\n\n  return res;\n});\n\nexport const updateModel = () => ({\n  updateModel(state, { label, value }) {\n    state[label] = value;\n  },\n});\n"],"names":["normalizeMap","Array","isArray","map","key","val","Object","keys","normalizeNamespace","namespace","func","mapModel","models","res","forEach","$store","state","split","reduce","prev","cur","value","type","join","commit","label","updateModel"],"mappings":";;;;IAAaA,eAAe,SAAfA,YAAe;SAC1BC,MAAMC,OAAN,CAAcC,GAAd,IACIA,IAAIA,GAAJ,CAAQ;WAAQ,EAAEC,QAAF,EAAOC,KAAKD,GAAZ,EAAR;GAAR,CADJ,GAEIE,OAAOC,IAAP,CAAYJ,GAAZ,EAAiBA,GAAjB,CAAqB;WAAQ,EAAEC,QAAF,EAAOC,KAAKF,IAAIC,GAAJ,CAAZ,EAAR;GAArB,CAHsB;CAArB;;AAMP,IAAaI,qBAAqB,SAArBA,kBAAqB;SAChC,UAACC,SAAD,EAAYN,GAAZ,EAAoB;QACd,OAAOM,SAAP,KAAqB,QAAzB,EAAmC;YAC3BA,SAAN;kBACY,EAAZ;;;WAGKC,KAAKD,SAAL,EAAgBN,GAAhB,CAAP;GAP8B;CAA3B;;AAUP,IAAaQ,WAAWH,mBAAmB,UAACC,SAAD,EAAYG,MAAZ,EAAuB;MAC1DC,MAAM,EAAZ;;eAEaD,MAAb,EAAqBE,OAArB,CAA6B,gBAAkB;QAAfV,GAAe,QAAfA,GAAe;QAAVC,GAAU,QAAVA,GAAU;;QACzCD,GAAJ,IAAW;SAAA,iBACH;YACA,OAAOC,GAAP,KAAe,UAAnB,EAA+BA,IAAI,KAAKU,MAAL,CAAYC,KAAhB;;YAE3B,CAACP,SAAL,EAAgB,OAAO,KAAKM,MAAL,CAAYC,KAAZ,CAAkBZ,GAAlB,CAAP;;eAETK,UAAUQ,KAAV,CAAgB,GAAhB,EACJC,MADI,CACG,UAACC,IAAD,EAAOC,GAAP;iBAAeD,KAAKC,GAAL,CAAf;SADH,EAC6B,KAAKL,MAAL,CAAYC,KADzC,EACgDZ,GADhD,CAAP;OANO;SAAA,eASLiB,KATK,EASE;YACHC,OAAO,CAACb,SAAD,GAAa,aAAb,GAAgCA,UAAUQ,KAAV,CAAgB,GAAhB,EAAqBM,IAArB,CAA0B,GAA1B,CAAhC,iBAAb;;aAEKR,MAAL,CAAYS,MAAZ,CAAmBF,IAAnB,EAAyB,EAAEG,OAAOrB,GAAT,EAAciB,YAAd,EAAzB;;KAZJ;GADF;;SAkBOR,GAAP;CArBsB,CAAjB;;AAwBP,IAAaa,cAAc,SAAdA,WAAc;SAAO;eAAA,uBACpBV,KADoB,SACK;UAAhBS,KAAgB,SAAhBA,KAAgB;UAATJ,KAAS,SAATA,KAAS;;YAC7BI,KAAN,IAAeJ,KAAf;;GAFuB;CAApB;;;;;;;"}