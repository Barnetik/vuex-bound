{"version":3,"file":"vuex-bound.esm.js","sources":["../src/index.js"],"sourcesContent":["export const normalize = (func) => {\n  return (namespace, map) => {\n    if (typeof namespace !== 'string') {\n      map = namespace;\n      namespace = '';\n    }\n\n    return func(namespace, map);\n  };\n};\n\nexport const mapModelsToState = normalize((moduleName, keys) => {\n  const obj = {};\n\n  // global\n  if (moduleName === '') {\n    keys.forEach((key) => {\n      obj[key] = {\n        get() {\n          return this.$store.state[key];\n        },\n        set(value) {\n          this.$store.commit('update', { label: key, value });\n        },\n      };\n    });\n\n    return obj;\n  }\n\n  // namespaced\n  const arr = moduleName.split('/');\n\n  for (let i = 0, l = keys.length; i < l; i++) {\n    obj[keys[i]] = {\n      get() {\n        if (arr.length === 1) {\n          return this.$store.state[arr[0]][keys[i]];\n        }\n\n        if (arr.length === 2) {\n          return this.$store.state[arr[0]][arr[1]][keys[i]];\n        }\n\n        if (arr.length === 3) {\n          return this.$store.state[arr[0]][arr[1]][arr[2]][keys[i]];\n        }\n      },\n      set(value) {\n        if (arr.length === 1) {\n          const module = arr[0];\n          this.$store.commit(`${module}/update`, { label: [keys[i]], value });\n        }\n\n        if (arr.length === 2) {\n          const [moduleParent, moduleChild] = [arr[0], arr[1]];\n          this.$store.commit(`${moduleParent}/${moduleChild}/update`, { label: [keys[i]], value });\n        }\n\n        if (arr.length === 3) {\n          const [moduleParent, moduleChild, moduleSubChild] = [arr[0], arr[1], arr[2]];\n          this.$store.commit(`${moduleParent}/${moduleChild}/${moduleSubChild}/update`, { label: [keys[i]], value });\n        }\n      },\n    };\n  }\n\n  return obj;\n});\n\nexport const updateModel = () => ({\n  update(state, { label, value }) {\n    state[label] = value;\n  },\n});\n"],"names":["const","moduleParent","moduleChild","let","i","l"],"mappings":"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"}